# MyTimezone - Cursor AI Rules
# Version: 2.0 - Strict Linear Sync

## ğŸ¯ Project Context

**Project:** My Time Zone - Timezone converter & meeting scheduler
**Live URL:** https://mytimezone.online
**Linear Team:** "My Time Zone" (prefix: MY-)
**Linear Doc:** https://linear.app/mytimezone/document/projectmd-ai-team-context-14a77176115f

---

## ğŸš¨ CRITICAL RULES - Báº®T BUá»˜C

### Rule 1: LUÃ”N commit vá»›i ticket ID
```
[MY-XX] MÃ´ táº£ ngáº¯n gá»n
```
âŒ KHÃ”NG ÄÆ¯á»¢C: `fix bug`, `update code`
âœ… ÄÃšNG: `[MY-28] Add preview link to Embed Modal`

### Rule 2: LUÃ”N update Linear status khi HOÃ€N THÃ€NH
Sau khi code XONG + DEPLOY + TEST:
1. VÃ o Linear ticket
2. Äá»•i status tá»« "In Progress" â†’ "Done"
3. Comment káº¿t quáº£: files changed, tested gÃ¬

**KHÃ”NG ÄÆ¯á»¢C Ä‘á»ƒ ticket "In Progress" khi Ä‘Ã£ xong!**

### Rule 3: LUÃ”N update PROJECT.md sau feature lá»›n
File: `PROJECT.md` á»Ÿ root repo
Update sections:
- "Recent Changes" - thÃªm ticket vá»«a xong
- "Key Files" - náº¿u cÃ³ file má»›i quan trá»ng
- "Current Status" - update In Progress / Done

### Rule 4: LUÃ”N comment trÃªn Linear khi gáº·p váº¥n Ä‘á»
Náº¿u:
- KhÃ´ng hiá»ƒu requirement â†’ Comment há»i
- PhÃ¡t hiá»‡n bug má»›i â†’ Táº¡o ticket má»›i hoáº·c comment
- Cáº§n thay Ä‘á»•i approach â†’ Comment giáº£i thÃ­ch

---

## ğŸ“‹ Workflow báº¯t buá»™c

### Khi Báº®T Äáº¦U task:
```
1. Äá»c ticket description trÃªn Linear
2. Äá»c comments (cÃ³ thá»ƒ cÃ³ guide tá»« Claude)
3. Check PROJECT.md Ä‘á»ƒ hiá»ƒu architecture
4. Há»i náº¿u chÆ°a rÃµ
```

### Khi ÄANG LÃ€M:
```
1. Code theo ticket requirements
2. Test trÃªn localhost
3. Commit vá»›i [MY-XX] prefix
```

### Khi HOÃ€N THÃ€NH:
```
1. âœ… Code done
2. âœ… Tested locally  
3. âœ… Committed vá»›i [MY-XX]
4. âœ… Pushed to repo
5. âœ… Deployed (náº¿u auto-deploy) hoáº·c táº¡o PR
6. âœ… Tested trÃªn production
7. âœ… Update Linear status â†’ Done
8. âœ… Comment trÃªn Linear: "Done. Files: X, Y, Z"
9. âœ… Update PROJECT.md náº¿u cáº§n
```

---

## ğŸ—ï¸ Architecture (QUAN TRá»ŒNG)

### Unified Timeline
- Táº¥t cáº£ timezone rows hiá»ƒn thá»‹ CÃ™NG absolute time range
- City Ä‘áº§u tiÃªn = reference timezone
- Má»—i column = cÃ¹ng moment in time

### URL State
- Format: `?c=sf,ldn,sgp` (short codes)
- Backward compatible: `?cities=san-francisco,london`
- Sync vá»›i localStorage

### Routes
```
/           â†’ HomePage (main timezone view)
/about      â†’ AboutPage
/embed      â†’ EmbedPage (widget)
/meet/...   â†’ Meeting scheduler (shareable link)
```

---

## ğŸ“ Key Files

| File | Purpose | Cáº©n tháº­n |
|------|---------|----------|
| `src/hooks/useUrlState.ts` | URL + localStorage | CÃ³ infinite loop fix, Ä‘á»«ng phÃ¡ |
| `src/hooks/useTimezones.ts` | Timezone calculation | Core logic |
| `src/utils/calendarUtils.ts` | Calendar URLs | Viral branding |
| `src/components/MeetingScheduler.tsx` | Meeting modal | Complex state |
| `src/constants/cities.ts` | 70+ cities | Has short codes |

---

## ğŸ¨ Styling Rules

### Colors (Notion-style)
| Element | Color |
|---------|-------|
| Background | #FAFAFA |
| Text | #37352F |
| Border | #E9E9E7 |
| Accent | #2F81F7 |

### Time Colors
| Time | Color |
|------|-------|
| Night (0-6h, 22-23h) | #EBECED |
| Morning (8-13h) | #DDEDEA |
| Afternoon (15-19h) | #DDEBF1 |

### Conventions
- Mobile-first responsive
- TailwindCSS utilities
- KhÃ´ng inline styles
- Vietnamese comments OK

---

## ğŸ› ï¸ Tech Stack

- React 19 + TypeScript 5.9
- Vite 7.2
- TailwindCSS 3.4
- Luxon 3.7 (KHÃ”NG dÃ¹ng moment.js)
- @dnd-kit (drag & drop)
- react-router-dom 7

---

## ğŸš« KHÃ”NG ÄÆ¯á»¢C LÃ€M

- âŒ Commit khÃ´ng cÃ³ [MY-XX]
- âŒ Äá»ƒ ticket In Progress khi Ä‘Ã£ done
- âŒ DÃ¹ng moment.js (dÃ¹ng Luxon)
- âŒ Hardcode timezone offsets
- âŒ Inline styles (dÃ¹ng Tailwind)
- âŒ QuÃªn test mobile layout
- âŒ Táº¡o route má»›i mÃ  khÃ´ng update App.tsx
- âŒ Sá»­a useUrlState.ts mÃ  khÃ´ng hiá»ƒu infinite loop fix

---

## ğŸ”— Quick Links

- **Linear Team:** https://linear.app/mytimezone
- **Production:** https://mytimezone.online
- **Embed Test:** https://mytimezone.online/embed?cities=sf,ldn,sgp

---

*AI Team: Claude (Leader) â†’ Linear (Database) â†’ Cursor (Executor)*
*Cursor PHáº¢I follow rules nÃ y. Claude sáº½ review.*
